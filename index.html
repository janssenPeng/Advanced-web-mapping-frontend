<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>CityCare Emergency Map</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <!-- Leaflet æ ·å¼ -->
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/leaflet.draw/1.0.4/leaflet.draw.css" />

  <link rel="stylesheet" href="css/style.css" />
</head>

<body>

  <!-- é¡¶éƒ¨æ  -->
  <header class="header-bar">
    <div class="header-left">
      <h1>ğŸš¨ CityCare Emergency Map</h1>
      <p>Real-time emergency visualization and spatial analysis</p>
    </div>
  </header>

  <!-- å·¦ä¾§æ§åˆ¶é¢æ¿ -->
  <aside id="controls">
    <h3>Spatial Analysis Tools</h3>
    <button id="btnNearby">ğŸ“ Nearby</button>
    <button id="btnClosest">ğŸ§­ Closest</button>
    <button id="btnArea">ğŸ§© Within Area</button>
    <button id="btnCluster">ğŸ“Š Clusters</button>

    <h3>Replay Emergency Timeline</h3>
    <select id="replay-hours">
      <option value="1">Replay last 1 hour</option>
      <option value="3">Replay last 3 hours</option>
      <option value="6">Replay last 6 hours</option>
      <option value="12">Replay last 12 hours</option>
      <option value="24">Replay last 24 hours</option>
    </select>

    <button id="start-replay">Start Replay</button>
  </aside>

  <!-- å³ä¾§ä¿¡æ¯å¡ç‰‡ -->
  <aside id="info-card">
    <div class="info-item">
      <div class="info-title">ğŸ“Œ Your Location</div>
      <div class="info-value" id="user-location">Loading...</div>
    </div>

    <div class="info-item">
      <div class="info-title">Total Emergencies</div>
      <div class="info-value" id="total-emergencies">0</div>
    </div>

    <!-- â­ æ–°å¢ emergency-countï¼Œä¿®å¤ map.js å´©æºƒ -->
    <div class="info-item">
      <div class="info-title">Loaded</div>
      <div class="info-value" id="emergency-count">0</div>
    </div>

    <!-- <div class="info-item">
      <div class="info-title">â± Replay Status</div>
      <div class="info-value" id="replay-status">Not started</div>
    </div> -->

    <!-- äº‹ä»¶ç±»å‹ç»Ÿè®¡ -->
    <div class="counter-row">
      <button class="counter-box filter-btn" data-type="fire">
        <span id="stat-fire">0</span>
        <small>Fire</small>
      </button>
    
      <button class="counter-box filter-btn" data-type="medical">
        <span id="stat-medical">0</span>
        <small>Medical</small>
      </button>
    
      <button class="counter-box filter-btn" data-type="flood">
        <span id="stat-flood">0</span>
        <small>Flood</small>
      </button>
    
      <button class="counter-box filter-btn" data-type="other">
        <span id="stat-other">0</span>
        <small>Other</small>
      </button>
    </div>
  </aside>

  <!-- åº•éƒ¨æ—¶é—´è½´ -->
  <div id="timeline-container">
    <button class="timeline-btn" id="replay-play">â–¶ï¸</button>
    <button class="timeline-btn" id="replay-pause">â¸</button>

    <input type="range" id="timeline-slider" min="0" max="100" value="0">

    <div class="timeline-time" id="timeline-current">00:00</div>

    <div class="timeline-speed">
      Speed:
      <select id="replay-speed">
        <option value="0.01">00.1x</option>
        <option value="0.5">0.5x</option>
        <option value="1" selected>1x</option>
        <option value="2">2x</option>
        <option value="4">4x</option>
      </select>
    </div>
  </div>

  <!-- åœ°å›¾åŒºåŸŸ -->
  <div id="map"></div>

  <!-- Leaflet -->
  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet.draw/1.0.4/leaflet.draw.js"></script>

  <!-- JS -->
  <script src="js/map.js"></script>
</body>
</html>
